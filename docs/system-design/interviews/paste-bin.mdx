---
title: PasteBin
description : "System Interview Questions"
sidebar_position: 2
---

### Design a PasteBin like service, where user can paste a text snippet and get a randomly generated URL to access it.
PasteBin is a web application that allows users to upload code snippets to a server, where they can be shared with others as plain text. Users can also copy and paste snippets that have been uploaded by others without having to create an account.


#### Requirements and Goals of the System
Let's discuss what features we will be designing so that we can come up with a set of useful requirements.

<details>
<summary>**Functional Requirements**</summary>
    - Users should be able to upload or “paste” their code snippets.
    - Users will get a URL to access their paste.
    - Links should not be guessable (not predictable).
    - Links should expire after a standard default timespan, but users should be able to specify expiration time.
    - Users should optionally be able to pick a custom alias for their paste.
    - Users should be able to delete their pastes.
    - Our service should also be accessible through REST APIs by other services.
</details>

<details>
<summary> **Non-Functional Requirements**</summary>
    - The system should be highly reliable, any data loss should be avoided.
    - The system should be highly available. This is required because if our service is down, users will not be able to access their pastes.
    - Paste retrieval should be fast; users should be able to access a paste in milliseconds.
    - Shortened links should not be guessable (not predictable).
    - The system should be highly scalable to support millions of new pastes per day.
</details>

<details>
<summary>**Extended Requirements**</summary>
    - Analytics, e.g., how many times a paste was accessed?
    - Our service should also be accessible through REST APIs by other services.
    - Our service should provide an option to create a user profile.
    - Users should be able to comment on each other’s pastes.
    - Users should be able to “like” each other’s pastes.
    - Users should be able to follow other users.
</details>

#### Capacity Estimation and Constraints
Let’s assume that we will have
- 500M new URLs per month, and we expect our service to be highly scalable; we should be able to handle 500M new URLs per month initially, and this number should grow by 10% every month. This assumption means that after three years of our service, we should expect to have 1B new URLs per month.
- The system should support storing pastes of size up to 10KB.
- Let’s assume, on average, every URL will be read 10 times. Read to write ratio is 10:1.
- Each URL should not take more than 500 bytes.
    <details>
    <summary>**Calculations**</summary>
        - 500M * (1.1)^36 = 1B
        Let's assume each url is 500 bytes, so total storage we need for 1B URLs is: 500 * 1B = 500B bytes = 500GB

        - Storage estimates: If we want to store all the pastes for 5 years, we would need 500GB * 12 * 10 = 60TB of total storage.
            500M URLs pm = 500M / (30 * 24 * 3600) = ~200 URLs/s
        - Traffic estimates: 200 * (10 + 1) * 500 = 1M bytes/s = 1MB/s
    </details>
    - Let’s assume, we will have 200 new URLs per second.
    - Traffic estimates: 200 * (10 + 1) * 500 = 1M bytes/s = 1MB/s
    - Storage estimates: If we want to store all the pastes for 10 years, we would need 500GB * 12 * 10 = 60TB of total storage.
    - Bandwidth estimates: If we assume that every URL will be read 10 times on average per month, we will need 1MB/s * 10 = 10MB/s of bandwidth.
    - Memory estimates: If we want to cache 20% of daily new URLs, we would need to cache 200M * 0.2 * 500 = ~20GB of data in memory.



